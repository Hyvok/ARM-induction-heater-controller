#include "pid_controller.h"

struct PidController
{
    float prop,
    float deriv,
    float integ,
    float lastError,
};

struct PidController pid = {0, 0, 0, 0};

void initPid(float prop, float deriv, float integ)
{
    pid.prop = prop;
    pid.deriv = deriv;
    pid.integ = integ;
}
float computePid(float val)
{
    float error =   (val + (val - pid.lastError) * pid.deriv) * pid.prop + 
                    pid.lastError * pid.integ;
    pid.lastError = error;
}
